## TCP.IP协议栈调优

控制传输包的大小在1400字节以下。

当发送的数据包太大时，TCP/IP协议栈自动将其拆分为多个数据报文发送，通常是IP分片。一旦发生了IP分片，便会在数据链路层引入多次的传输和确认，加上报文的拆分和拼接开销，令得整个数据包的发送时延大大增加。而且，任何一个分片的丢失还会带来整个IP数据报文从最初的发起端重传。

### TCP MSS

TCP最大报文段长度，一次可以传往另一端的最大TCP数据长度，这个数据长度是指TCP报文中的有效数据（应用层发出的业务数据），不包括TCP报文包头部分。

MSS是在建立TCP链接的三次握手过程中协商的，每一方都会在SYN或SYN/ACK数据报文中通告其期望接收的数据报文的MSS(MSS只能出现在SYN或SYN/ACK数据报中)