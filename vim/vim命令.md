## Link

http://vim.wikia.com/wiki/Best_Vim_Tips

## 命令介绍

```bash
:e
to reload the file
:e!
to force discard your local changes and reload from the disk
```

## 快捷键

```bash
j # 方向键，向下
k # 方向键，向上
h # 方向键，向左
k # 方向键，向右
w : begin of word
e : end of word
```



## 以十六进制显示内容

```bash
:%!xxd
```



## 搜索

```bash
/word  # 从光标开始，向下查询一个名为word的字符串
```



## 替换

vi/vim中使用s命令来替换字符串，该命令有很多种不同的使用方法，可实现复杂的功能。

* usage

```bash
:[addr]s/源字符串/目的字符串/[option] # addr省略时表示当前行
:%s/源字符串/目的字符串/[option]      # 全局替换 % 表示整个文件
```



* 替换每一行的第一个word1为word2

```bash
:%s/word1/word2
等同于 :g/word1/s//word2/
```

* 替换每一行的所有base_path为abs_path

```bash
:%s/word1/word2/g
```

* n1 与n2 为数字.在第n1与n2行之间寻找word1这个字符串, 并将该字符串替换为word2

```bash
 :n1,n2s/word1/word2/g
```

* 从第一行到最后一行寻找word1字符串，并将该字符串替换为word2

```bash
1,$s/word1/word2/g
```

* 从第一行到最后一行寻找word1字符串，并将该字符串替换为word2, 并且在替换之前显示提示符给用户确认（conform）是否需要替换

```bash
1,$s/word1/word2/gc
```

##  

## 移动

```
w: begin of word
e: end of word
```



## 复制 删除 粘贴

```bash
x,X
```

x为向后删除一个字符（相当于del键），X为向前删除一个字符（相当于backspace键）



```bash
dd: 删除光标所在的那一整行，dd同时会将删除的内容复制到剪贴板
dw dd : 都会将删除的内容粘贴到剪切板
ndd: n 为数字。从光标开始，删除向下n列
```



```bash
yy: 复制光标所在的那一行
nyy: n为数字。复制光标所在的向下n行
p, P: p 为将已复制的数据粘贴到光标的下一行，P则为贴在光标的上一行
```



多行操作

```bash
:n1, n2 m n3   # 移动n1-n2行到n3行之下
:n1, n2 co n3  # 拷贝n1-n2行到n3行之下
:n1, n2 d      # 删除n1-n2行
```



```bash
ctrl+r: 重复上一个操作
小数点: 重复前一个动作
```



## 选择

```bash
v: 字符选择，将光标经过的地方反白显示
V  行选择，会将光标经过的行反白选择
ctrl + v 块选择，可以用长方形的方式选择数据
y  复制反白的地方
d  将反白的地方删除掉
```



## 多窗口功能

```bash
sp 【filename】打开一个新窗口，如果加filename，表示在新窗口打开一个新文件，否则表示两个窗口为同一个文件内容
:vsplit  垂直分割窗口
ctrl+w +方向键 在多窗口间移动
```



## 多文件编辑

```bash
:files 列出vim当前打开的所有文件
:n  编辑下一个文件  // mac测试不可用
:N  编辑上一个文件  // mac测试不可用
```



## 退出

```basd
q: 不保存退出
w: 保存
qw: 保存后退出
q!: 强制
x: 
```



```bash
:x
:xa
```

退出一个或所有文件
与q的区别在于，如果文件没有修改，`:x`命令不会改变文件的“最后修改时间”属性。这对于使用make编译系统是有意义的，因为如果文件没有更新，是不会重新编译文件的。如果你的项目只有几十个文件的话，重新编译与否可能看起来没什么区别，但对于大项目，比如操作系统而言，编译一次要几个小时，所以能不重新编译就不要浪费时间。而:x命令就能避免修改文件的属性，当文件没有变化时（包括，用u/U命令回退操作）。所以这个命令是我一直都使用的退出命令，谁让咱只写程序呢！



## 制表符与空格的相互转换

制 表 符 与 空 格 的 相 互 转 换

设定 'expandtab' 选项并不会影响已有的制表符。如果你想将制表符转换为空格，可以
用 ":retab" 命令。使用下面的命令：

        :set expandtab
        :%retab

Vim 会在所有缩进中使用空格而非制表符。但是，所有非空字符后的制表符不会受到影
响。如果你想要转化这些制表符，需要在命令中加入 !：

        :%retab!

这不大安全。因为它也许会修改字符串内的制表符。要检查这种情况是否存在，可以执
行：

        /"[^"\t]*\t[^"]*"

这里建议你不要在字符串中直接使用制表符。请用 "\t" 来替代，麻烦会少些。

将空格转化为制表符的命令则恰好相反：

        :set noexpandtab
        :%retab!

